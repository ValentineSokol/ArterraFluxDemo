(this["webpackJsonpfrontend-redux"]=this["webpackJsonpfrontend-redux"]||[]).push([[0],{237:function(t,e,n){t.exports=n.p+"static/media/error.636d6b5f.png"},238:function(t,e,n){t.exports=n.p+"static/media/success.ca1d9d6c.png"},279:function(t,e,n){t.exports=n(579)},289:function(t,e){},305:function(t,e){},307:function(t,e){},329:function(t,e){},335:function(t,e){},404:function(t){t.exports=JSON.parse("{}")},579:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r),c=n(69),o=n.n(c),i=n(98),u=n(37);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(2),s=n(3);function d(){var t=Object(l.a)(['\n\t\n\tbody {\n\t\tmargin: 0!important;\n\t\tfont-family: "Roboto", sans-serif;\n\t\tcolor: ',";\n\t\t-webkit-font-smoothing: antialiased;\n\t\t-moz-osx-font-smoothing: grayscale;\n\t}\n"]);return d=function(){return t},t}var f=Object(s.a)(d(),"#084486"),p=n(4),m=n.n(p),b=n(10),g=n(5),v=n(97),x=n.n(v),h=function(t){return(t/Math.pow(10,17)).toFixed(2)},O=n(33),E=n(231),j=n.n(E),w={flux:null,balance:null},k=function(t,e){switch(e.type){case"connected":return Object(O.a)({},t,{flux:e.payload.flux});case"balanceUpdate":return Object(O.a)({},t,{balance:e.payload.balance});default:return t}},y=function(){var t=Object(b.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=new j.a,t.next=3,e.connect("flux-protocol-dev");case 3:if(!e.walletConnection.isSignedIn()){t.next=13;break}return t.prev=4,t.next=7,e.getFDaiBalance();case 7:t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(4),t.next=13,e.claimFDai();case 13:return t.abrupt("return",e);case 14:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(){return t.apply(this,arguments)}}(),S=a.a.createContext(w),C=function(t){var e=t.children,n=Object(r.useReducer)(k,w),c=Object(g.a)(n,2),o=c[0],i=c[1];return a.a.createElement(S.Provider,{value:[o,i]},e)};function F(){var t=Object(l.a)(["\n\tdisplay: none; \n\tcolor: red;\n\tborder: 1px solid red;\n\tborder-radius: 50%;\n\tposition: absolute;\n\twidth: 12px;\n\tfont-size: 10px;\n\tright: -18px;\n\ttop: 1px;\n\n"]);return F=function(){return t},t}function I(){var t=Object(l.a)(["\n\tdisplay: block;\n\tposition: relative;\n\ttext-align: center;\n"]);return I=function(){return t},t}function z(){var t=Object(l.a)(["\n\talign-self: center;\n\tcolor: ",";\n\tbackground-color: ",";\n\tborder: 1px solid ",";\n\tborder-radius: 6px;\n\tpadding: 8px 12px;\n\tfont-weight: bold;\n\n\tfont-size: 10px;\n"]);return z=function(){return t},t}function _(){var t=Object(l.a)(["\n\tdisplay: flex;\n\tposition: fixed;\n\tz-index: 99;\n\tbackground-color: white;\n\tjustify-content: space-between;\n\tvertical-align: middle;\n\talign-items: center;\n\tpadding: 2% 5%;\n\tfont-weight: bold;\n\ttop: 0;\n\tmax-height: 70px;\n\twidth: 90%;\n\tborder-bottom: 1px solid ",";\n\tbox-shadow: 0px 0px 1px rgba(0, 0, 0, 0.25);\n\tfont-size: 12px;\n\n\t@media (min-width: 560px) {\n\t\tpadding: 1% 5%;\n\t}\n"]);return _=function(){return t},t}function N(){var t=Object(l.a)(["\n\tdisplay: inline-block;\n\talign-self: center;\n\twidth: 13%;\n\n"]);return N=function(){return t},t}var D=s.b.img(N()),M=s.b.header(_(),"#BBBDC0"),A=s.b.button(z(),"#084486","#FFFFFF","#084486"),B=s.b.span(I()),P=s.b.div(F());var T=function(){var t=Object(r.useContext)(S),e=Object(g.a)(t,2),n=e[0],c=n.flux,o=n.balance,i=e[1],u=c.walletConnection.isSignedIn(),l=function(){window.location.reload()};return null!==o&&void 0!==o||!c.isSignedIn()||c.getFDaiBalance(c.getAccountId).then((function(t){return i({type:"balanceUpdate",payload:{balance:t}})})).catch((function(t){return console.error(t)})),a.a.createElement(M,null,a.a.createElement(D,{onClick:l,id:"header-logo",src:x.a,alt:"our company logo"}),u?a.a.createElement(a.a.Fragment,null,a.a.createElement(B,null," ",c.getAccountId()," ",a.a.createElement(P,null,"!")," "),a.a.createElement(B,null," ",void 0!==o?"$".concat(h(o)):null),a.a.createElement(A,{onClick:function(){c.signOut(),l()}},"Sign out")):a.a.createElement(A,{onClick:function(){c.signIn()}},"Sign in"))},J=function(t){return function(t){return t-(new Date).getTime()}(t)>6048e5},R=n(232);function Y(){var t=Object(l.a)(["\n\tfont-weight: bold;\n"]);return Y=function(){return t},t}var L=s.b.span(Y());function U(t){var e=t.days,n=t.hours,r=t.minutes,c=t.seconds;return t.completed?a.a.createElement("div",null,"Market ended"):a.a.createElement("div",null," ends in: ",a.a.createElement(L,null,e," days ",n<10?"0"+n:n,":",r<10?"0"+r:r,":",c<10?"0"+c:c))}var V=n(233),$=n.n(V);function W(){var t=Object(l.a)(["\n\tfont-weight: bold;\n"]);return W=function(){return t},t}var K=Object(s.b)($.a)(W());function H(t){var e=t.endTime,n=t.ended;return a.a.createElement("div",null,n?"ended":"resolution date",": ",a.a.createElement(K,{format:"DD/MM/YYYY"},new Date(e)))}function G(){var t=Object(l.a)(["\n\tfont-size: 12px;\n  color: ",";\n\tdisplay: block;\n\twidth: 100%;\n\ttext-align: right;\n\tpadding-top: 18px;\n"]);return G=function(){return t},t}var q=s.b.span(G(),"#084486");function Q(t){var e=t.endTime,n=e<=(new Date).getTime();return a.a.createElement(q,null,J(e)||n?a.a.createElement(H,{ended:n,endTime:e}):a.a.createElement(R.a,{zeroPadTime:2,date:e,renderer:U}))}var X=function(t){if(t)return t.charAt(0).toUpperCase()+t.slice(1)};function Z(){var t=Object(l.a)(["\n\tfont-weight: lighter;\n\tmargin: 0;\n\tfont-size: 12px;\n"]);return Z=function(){return t},t}function tt(){var t=Object(l.a)(["\n\tfont-weight: medium;\n\tmargin: 0;\n\tfont-size: 12px;\n"]);return tt=function(){return t},t}function et(){var t=Object(l.a)(["\n\tborder: 1px solid ",";\n\tmargin: 0;\n\tpadding: 0 4px;\n\twidth: 18px;\n\theight: 17px;\n\tcolor: ",";\n\ttext-align: center;\n\tdisplay: block;\n\tborder-radius: 50%;\n\tbackground-color: ",";\n\tmargin:  auto;\n\tdisplay: block;\n"]);return et=function(){return t},t}function nt(){var t=Object(l.a)(["\n\tpadding: 20px 0 ;\n"]);return nt=function(){return t},t}var rt=s.b.div(nt()),at=s.b.button(et(),"#084486","#084486","#FFFFFF"),ct=s.b.p(tt()),ot=s.b.p(Z());function it(t){var e=t.data,n=t.market,c=Object(r.useState)(!1),o=Object(g.a)(c,2),i=o[0],u=o[1];return a.a.createElement(rt,null,a.a.createElement(at,{onClick:function(){return u(!i)}},i?"-":"+"),i&&a.a.createElement("div",null,a.a.createElement(ct,null,"extra info:"),a.a.createElement(ot,null,e),a.a.createElement(ot,null,"Market id: ",n.id)))}var ut={market:null,outcome:null,price:null},lt=function(t,e){switch(e.type){case"startOrderPlacement":return{market:e.payload.market,outcome:e.payload.outcome,price:e.payload.price};case"stopOrderPlacement":return ut;default:return t}},st=a.a.createContext(ut),dt=function(t){var e=t.children,n=Object(r.useReducer)(lt,ut),c=Object(g.a)(n,2),o=c[0],i=c[1];return a.a.createElement(st.Provider,{value:[o,i]},e)};function ft(){var t=Object(l.a)(["\n\t\tborder: 1px solid ",";\n\t"]);return ft=function(){return t},t}function pt(){var t=Object(l.a)(["\ntext-align: right;\nwidth: 25%;\nfont-size: 20px;\nfont-weight: bold;\n"]);return pt=function(){return t},t}function mt(){var t=Object(l.a)(["\nwidth: 25%;\nfont-size: 20px;\ntext-align: center;\n"]);return mt=function(){return t},t}function bt(){var t=Object(l.a)(["\nfont-size: 12px;\nwidth: 50%;\nfont-weight: bold;\ntext-align: left;\n"]);return bt=function(){return t},t}function gt(){var t=Object(l.a)(["\n\twidth: 100%;\n\tbackground-color: white;\n\tborder-radius: 6px;\n\tpadding: 10px 15px;\n\tmargin: 5px 0;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tbox-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n\t-webkit-box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n\t-moz-box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\n\tcolor: ",";\n\t@media (min-width: 560px) {\n\t\tpadding: 15px 25px;\n\t}\n\t&:active {\n\t\tbox-shadow: none;\n\t\t-webkit-box-shadow: none;\n\t\t-moz-box-shadow: none;\n\t}\n"]);return gt=function(){return t},t}var vt=s.b.button(gt(),"#084486"),xt=s.b.span(bt()),ht=s.b.span(mt()),Ot=s.b.span(pt()),Et=function(t){var e=t.label,n=t.binary,c=t.index,o=t.market,i=t.price,u=Object(r.useContext)(st),l=Object(g.a)(u,2),d=(l[0],l[1]),f=n?0===c?"#BBBDC0":"#5400FF":"#084486",p=o.last_price_for_outcomes[c],m=!!p,b=Object(s.b)(vt)(ft(),f);return a.a.createElement(b,{onClick:function(){return d({type:"startOrderPlacement",payload:{market:o,outcome:c,price:i}})}},a.a.createElement(xt,null,e),a.a.createElement(ht,null,m?p+"\xa2":"--"),a.a.createElement(Ot,null,i<100?i+"\xa2":"--"))};function jt(){var t=Object(l.a)(["\n\t\tbackground-color: ",";\n\t\tcolor: white;\n\t\tborder-radius: 10px;\n\t\tfont-size: 20px;\n\t\tfont-weight: bold;\n\t\twidth: 100%;\n\t\tmargin-top: 18px;\n\t\tpadding: 18px;\n\t"]);return jt=function(){return t},t}var wt=function(t){var e=t.color,n=t.onClick,r=t.children,c=t.className,o=s.b.button(jt(),e);return a.a.createElement(o,{className:c,onClick:n},r)};function kt(){var t=Object(l.a)(['\n\tdisplay: inline-block;\n\tposition: absolute;\n\twidth: 80px;\n\theight: 80px;\n\tleft: calc(50% - 40px);\n\ttop: calc(50% - 40px);\n\n\t& div {\n\t\tanimation: lds-roller 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n\t\ttransform-origin: 40px 40px;\n\t}\n\t& div:after {\n\t\tcontent: " ";\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\twidth: 6px;\n\t\theight: 6px;\n\t\tborder-radius: 50%;\n\t\tbackground: ',";\n\t\tmargin: -4px 0 0 -4px;\n\t}\n\t& div:nth-child(1) {\n\t\tanimation-delay: -0.036s;\n\t}\n\t& div:nth-child(1):after {\n\t\ttop: 63px;\n\t\tleft: 63px;\n\t}\n\t& div:nth-child(2) {\n\t\tanimation-delay: -0.072s;\n\t}\n\t& div:nth-child(2):after {\n\t\ttop: 68px;\n\t\tleft: 56px;\n\t}\n\t& div:nth-child(3) {\n\t\tanimation-delay: -0.108s;\n\t}\n\t& div:nth-child(3):after {\n\t\ttop: 71px;\n\t\tleft: 48px;\n\t}\n\t& div:nth-child(4) {\n\t\tanimation-delay: -0.144s;\n\t}\n\t& div:nth-child(4):after {\n\t\ttop: 72px;\n\t\tleft: 40px;\n\t}\n\t& div:nth-child(5) {\n\t\tanimation-delay: -0.18s;\n\t}\n\t& div:nth-child(5):after {\n\t\ttop: 71px;\n\t\tleft: 32px;\n\t}\n\t& div:nth-child(6) {\n\t\tanimation-delay: -0.216s;\n\t}\n\t& div:nth-child(6):after {\n\t\ttop: 68px;\n\t\tleft: 24px;\n\t}\n\t& div:nth-child(7) {\n\t\tanimation-delay: -0.252s;\n\t}\n\t& div:nth-child(7):after {\n\t\ttop: 63px;\n\t\tleft: 17px;\n\t}\n\t& div:nth-child(8) {\n\t\tanimation-delay: -0.288s;\n\t}\n\t& div:nth-child(8):after {\n\t\ttop: 56px;\n\t\tleft: 12px;\n\t}\n\t@keyframes lds-roller {\n\t\t0% {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\n"]);return kt=function(){return t},t}var yt=s.b.div(kt(),"#084486"),St=function(){return a.a.createElement(yt,null,a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null),a.a.createElement("div",null))};function Ct(){var t=Object(l.a)(["\n\tleft: calc(50% - 32px);\n\ttop: calc(50vh - 32px);\n"]);return Ct=function(){return t},t}var Ft=Object(s.b)(St)(Ct());var It=function(){return a.a.createElement(Ft,null)};function zt(){var t=Object(l.a)(["\n\t\tborder: 1px solid ",";\n\t\tbackground-color: ",";\n\t\tcolor: ",";\n\t\tmargin: 10px 0 ;\n\n\t"]);return zt=function(){return t},t}function _t(){var t=Object(l.a)(["\n\tfont-size: 20px;\n\ttext-align: center;\n\tmargin: 0;\n\tdisplay: block;\n\twidth: 100%;\n\tfont-weight: bold;\n"]);return _t=function(){return t},t}function Nt(){var t=Object(l.a)(["\n\tfont-weight: bold;\n"]);return Nt=function(){return t},t}function Dt(){var t=Object(l.a)(["\n\twidth: 25%;\n\ttext-align: center;\n\tfont-size: 12px;\n\tfont-weight: bold;\n"]);return Dt=function(){return t},t}function Mt(){var t=Object(l.a)(["\n\twidth: 25%;\n\ttext-align: center;\n\tfont-size: 20px;\n"]);return Mt=function(){return t},t}var At=s.b.span(Mt()),Bt=s.b.span(Dt()),Pt=s.b.span(Nt()),Tt=s.b.p(_t()),Jt=function(t){var e=t.order,n=t.label,c=t.selected,o=t.setSelected,i=t.cancelOrder,u=Object(r.useState)(!1),l=Object(g.a)(u,2),d=l[0],f=l[1],p=Object(s.b)(vt)(zt(),c?"#084486":"#BBBDC0",c?"#084486":"white",c?"white":"#084486");return d?null:a.a.createElement(p,{onClick:function(){c?(f(!0),i()):o()}},c?a.a.createElement(Tt,null,"cancel order"):a.a.createElement(a.a.Fragment,null,a.a.createElement(Bt,null,a.a.createElement(Pt,null,n)),a.a.createElement(At,null,e.price,"\xa2"),a.a.createElement(At,null,a.a.createElement(Pt,null,"$",h(e.spend))),a.a.createElement(At,null,(e.filled/e.spend*100).toFixed(2),"%")))};function Rt(){var t=Object(l.a)(["\n\t\ttext-align: center;\n\t\twidth: 25%;\n\t"]);return Rt=function(){return t},t}var Yt=function(t){var e=t.orders,n=t.market,c=Object(r.useState)(null),o=Object(g.a)(c,2),i=o[0],u=o[1],l=Object(r.useContext)(S),d=Object(g.a)(l,2),f=d[0].flux,p=d[1],v=Object(s.b)(je)(Rt()),x=e.map((function(t,e){var r=function(){var e=Object(b.a)(m.a.mark((function e(){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.cancelOrder(n.id,t.outcome,t.id);case 2:return e.next=4,f.getFDaiBalance().catch((function(t){return console.error(t)}));case 4:r=e.sent,p({type:"balanceUpdate",payload:{balance:r}});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=e===i,o=n.outcome_tags[t.outcome];return 2===n.outcomes&&(o=0===t.outcome?"NO":"YES"),a.a.createElement(Jt,{label:o,cancelOrder:r,setSelected:function(){return u(e)},selected:c,order:t,key:e})}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ee,null,a.a.createElement(v,null,"contract"),a.a.createElement(v,null,"price per share"),a.a.createElement(v,null,"order value"),a.a.createElement(v,null,"% filled")),x)};function Lt(){var t=Object(l.a)(["\n\t\tborder: 1px solid ",";\n\t\tmargin: 10px 0 ;\n\t"]);return Lt=function(){return t},t}function Ut(){var t=Object(l.a)(["\n\tfont-weight: bold;\n"]);return Ut=function(){return t},t}function Vt(){var t=Object(l.a)(["\n\twidth: 25%;\n\ttext-align: center;\n\tfont-size: 12px;\n\tfont-weight: bold;\n\n"]);return Vt=function(){return t},t}function $t(){var t=Object(l.a)(["\n\twidth: 25%;\n\ttext-align: center;\n\tfont-size: 20px;\n"]);return $t=function(){return t},t}var Wt=s.b.span($t()),Kt=s.b.span(Vt()),Ht=s.b.span(Ut()),Gt=function(t){var e=t.order,n=t.label,r=Object(s.b)(vt)(Lt(),"#084486");return a.a.createElement(r,null,a.a.createElement(Kt,null,n),a.a.createElement(Wt,null,e.price,"\xa2"),a.a.createElement(Wt,null,a.a.createElement(Ht,null,"$",h(e.spend))),a.a.createElement(Wt,null,h(100*e.sharesFilled)))};function qt(){var t=Object(l.a)(["\n\t\ttext-align: center;\n\t\twidth: 25%;\n\t"]);return qt=function(){return t},t}var Qt=function(t){var e=t.orders,n=t.market,r=Object(s.b)(je)(qt()),c=e.map((function(t,e){var r=n.outcome_tags[t.outcome];return 2===n.outcomes&&(r=0===t.outcome?"NO":"YES"),a.a.createElement(Gt,{label:r,order:t,key:e})}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ee,null,a.a.createElement(r,null,"contract"),a.a.createElement(r,null,"price per share"),a.a.createElement(r,null,"order value"),a.a.createElement(r,null,"shares")),c)};function Xt(){var t=Object(l.a)(["\n\twidth: 100%!important;\n\tbottom: 3%;\n"]);return Xt=function(){return t},t}function Zt(){var t=Object(l.a)(["\n\tposition: absolute;\n\twidth: 90%!important;\n\tbottom: 3%;\n\tbackground-color:white;\n"]);return Zt=function(){return t},t}function te(){var t=Object(l.a)(["\n\tfont-weight: 500;\n\tfont-size: 14px;\n"]);return te=function(){return t},t}function ee(){var t=Object(l.a)(["\n\theight: 67%;\n\toverflow: scroll;\n"]);return ee=function(){return t},t}function ne(){var t=Object(l.a)(["\n\tbackground-color: white;\n\tanimation: fadein 500ms linear;\n\tposition: fixed;\n\twidth: 90%;\n\theight: calc(100% - 70px);\n\tleft: 0;\n\ttop: 0;\n\tpadding: 0 5%;\n\tz-index: 2;\n\tpadding-top: 71px;\n\n\t@keyframes fadein {\n\t\t0% {\n\t\t\topacity: 0;\n\t\t}\n\n\t\t100% {\n\t\t\topacity: 100;\n\t\t}\n\t}\n"]);return ne=function(){return t},t}var re=s.b.div(ne()),ae=s.b.div(ee()),ce=s.b.p(te()),oe=s.b.div(Zt()),ie=Object(s.b)(wt)(Xt()),ue=function(t){var e=t.closeModal,n=t.market,c=t.accountId,o=(t.updateMarketOrders,Object(r.useContext)(S)),i=Object(g.a)(o,2),u=i[0].flux,l=(i[1],Object(r.useState)(null)),s=Object(g.a)(l,2),d=s[0],f=s[1];return Object(r.useEffect)((function(){var t=!1;return document.body.style.overflow="hidden",!1===t&&f(u.filterUserOrders(n,u.getAccountId())),function(){document.body.style.overflow="scroll",t=!0}}),[f,n,c]),a.a.createElement(re,null,null===d?a.a.createElement(It,null):a.a.createElement(a.a.Fragment,null,a.a.createElement(Q,{endTime:n.end_time}),a.a.createElement(he,null,n.description),a.a.createElement(ae,null,a.a.createElement(ce,null,"my open orders"),a.a.createElement(Yt,{market:n,orders:d.openOrders}),a.a.createElement(ce,null,"my filled orders"),a.a.createElement(Qt,{market:n,orders:d.filledOrders}))),a.a.createElement(oe,null,a.a.createElement(ie,{color:"#084486",onClick:e},null===d?"Cancel":"Done")))};function le(){var t=Object(l.a)(["\n\tposition: relative;\n\tz-index: 1;\n"]);return le=function(){return t},t}function se(){var t=Object(l.a)(["\n\twidth: 25%;\n\ttext-align: right;\n"]);return se=function(){return t},t}function de(){var t=Object(l.a)(["\n\twidth: 25%;\n\ttext-align: center;\n"]);return de=function(){return t},t}function fe(){var t=Object(l.a)(["\n\twidth: 50%;\n\ttext-align: left;\n"]);return fe=function(){return t},t}function pe(){var t=Object(l.a)(["\n\tfont-size: 10px;\n\tfont-weight: 900;\n\tmargin: 0;\n\tpadding: 0;\n"]);return pe=function(){return t},t}function me(){var t=Object(l.a)(["\n\tcolor: ",";\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\twidth: calc(100% - 30px);\n\tpadding: 0 15px;\n\tmargin: auto;\n"]);return me=function(){return t},t}function be(){var t=Object(l.a)(["\n\ttext-decoration: underline;\n\tcolor: ",";\n\tfont-weight: bold;\n\tfont-size: 14px;\n\tpadding: 14px 0;\n\ttext-align: center;\n\tcursor: pointer;\n"]);return be=function(){return t},t}function ge(){var t=Object(l.a)(["\n\tfont-size: 24px;\n\tcolor: ",";\n\tpadding-top: 55px;\n\tdisplay: block;\n\tfont-weight: 500;\n\tmargin: 0 auto;\n"]);return ge=function(){return t},t}function ve(){var t=Object(l.a)(["\n  width: 100%;\n"]);return ve=function(){return t},t}var xe=s.b.div(ve()),he=s.b.h1(ge(),"#084486"),Oe=s.b.p(be(),"#084486"),Ee=s.b.div(me(),"#d3d3d3"),je=s.b.p(pe()),we=Object(s.b)(je)(fe()),ke=Object(s.b)(je)(de()),ye=Object(s.b)(je)(se()),Se=s.b.div(le()),Ce=function(t){var e=Object.assign({},t),n=Object(r.useContext)(S),c=Object(g.a)(n,2),o=(c[0].flux,c[1],Object(r.useState)([])),i=Object(g.a)(o,2),u=i[0],l=i[1],s=Object(r.useState)(e.market),d=Object(g.a)(s,2),f=d[0],p=(d[1],Object(r.useState)(!1)),v=Object(g.a)(p,2),x=v[0],h=v[1],O=f.end_time,E=f.description,j=f.outcomes,w=f.outcome_tags,k=f.extra_info;Object(r.useEffect)((function(){y()}),[]);var y=function(){var t=Object(b.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.getMarketPrices();case 3:e=t.sent,l(e),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),alert("Something went wrong! Look up the console"),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),C=[];if(j>2)C=w.map((function(t,e){return a.a.createElement(Et,{market:f,label:t,price:u[e],index:e,key:e})}));else for(var F=0;F<2;F++)C.push(a.a.createElement(Et,{market:f,price:u[F],label:0===F?"NO":"YES",binary:!0,index:F,key:F}));return a.a.createElement("div",null,a.a.createElement(Se,null,a.a.createElement(Q,{endTime:O})),a.a.createElement(he,null,X(E),a.a.createElement(it,{data:k,market:f})),a.a.createElement(Ee,null,a.a.createElement(we,null,"contract"),a.a.createElement(ke,null,"last price traded"),a.a.createElement(ye,null,"market price:")),a.a.createElement(xe,null,C),x&&a.a.createElement(ue,{updateMarketOrders:y,market:f,closeModal:function(){return h(!1)}}),a.a.createElement(Oe,{onClick:function(){return h(!0)}},"my positions"))},Fe=function(){var t=Object(b.a)(m.a.mark((function t(e,n,r,a,c){var o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"===typeof e){t.next=2;break}throw new Error("Invalid marketId type");case 2:return o=JSON.parse(localStorage.getItem("markets")),Array.isArray(o)||(o=[]),o.unshift({marketId:e,description:n,accountId:r,categories:a,publicKey:c.publicKey.toString()}),localStorage.setItem("markets",JSON.stringify(o)),window.location.reload(),t.abrupt("return",{success:!0});case 8:case"end":return t.stop()}}),t)})));return function(e,n,r,a,c){return t.apply(this,arguments)}}(),Ie=function(){var t=Object(b.a)(m.a.mark((function t(e){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e.length){t.next=2;break}throw new Error("categories need to be an array, pass an empty array if no category filters");case 2:return n=JSON.parse(localStorage.getItem("markets")),Array.isArray(n)||(n=[]),n.push({marketId:121}),console.log(n),t.abrupt("return",{markets:n});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ze=function(){var t=Object(b.a)(m.a.mark((function t(e){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("deleting..."),n=JSON.parse(localStorage.getItem("markets")),Array.isArray(n)){t.next=4;break}return t.abrupt("return");case 4:return r=n.findIndex((function(t){return t.marketId==e})),console.log(e),console.log("deleting..."+n[r]),n.splice(r,1),console.log("Market removed!"+n[r]),localStorage.setItem("markets",JSON.stringify(n)),window.location.reload(),t.abrupt("return",JSON.stringify({success:!0}));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function _e(){var t=Object(l.a)(["\n\tbackground-color: ",";\n\tcolor: white;\n\tborder-radius: 6px;\n\tpadding: 15px;\n\tfont-size: 16px;\n\tborder: none;\n\tbox-sizing: border-box;\n  -webkit-box-shadow: 0 2px 4px 0 rgb(171, 190, 200);\n  -moz-box-shadow: 0 2px 4px 0 rgb(171, 190, 200);\n  box-shadow: 0 2px 4px 0 rgb(171, 190, 200);\n\twidth: 100%;\n\tleft: 10%;\n\tfont-weight: bold;\n\tbottom: 25px;\n\tmargin: 25px 0;\n"]);return _e=function(){return t},t}function Ne(){var t=Object(l.a)(["\n\twidth: 100%;\n\tfont-weight: bold;\n"]);return Ne=function(){return t},t}function De(){var t=Object(l.a)(["\n\tfont-weight: 400;\n\tfont-size: 14px;\n"]);return De=function(){return t},t}function Me(){var t=Object(l.a)(["\n\tdisplay: block;\n\twidth: 100%;\n"]);return Me=function(){return t},t}var Ae=s.b.div(Me()),Be=s.b.h2(De()),Pe=s.b.span(Ne()),Te=s.b.button(_e(),"#084486"),Je=function(t){var e=t.market,n=Object(r.useContext)(S),c=Object(g.a)(n,2),o=c[0].flux,i=c[1],u=function(){var t=Object(b.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.getFDaiBalance(o.getAccountId());case 2:e=t.sent,i({type:"balanceUpdate",payload:{balance:e}});case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=Object(r.useState)(null),s=Object(g.a)(l,2),d=s[0],f=s[1],p=function(){return o.getClaimable(e.id,o.getAccountId()).then((function(t){return f(t)}))},v=function(){var t=Object(b.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!1!==C){t.next=2;break}return t.abrupt("return");case 2:return F(!1),w(!0),t.prev=4,t.next=7,o.claimEarnings(e.id,o.getAccountId());case 7:p(),u(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),alert("Something went wrong. Look into the console!"),console.error(t.t0);case 15:ze(e.id),w(!1),F(!0);case 18:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){var t=!1;return t||p(),function(){t=!0}}),[]);var x,O=Object(r.useState)(!1),E=Object(g.a)(O,2),j=E[0],w=E[1],k=Object(r.useState)(!0),y=Object(g.a)(k,2),C=y[0],F=y[1];return x=2===e.outcomes?0===e.winning_outcome?"NO":1===e.winning_outcome?"Yes":"Invalid":e.outcome_tags[e.winning_outcome]?e.outcome_tags[e.winning_outcome]:"invalid",a.a.createElement(Ae,null,a.a.createElement(Q,{endTime:e.end_time}),a.a.createElement(he,null,X(e.description)),a.a.createElement(Be,null,"Resolution: ",a.a.createElement(Pe,null,x)),a.a.createElement(Te,{onClick:v}," ",j?"Working...":"Claim $".concat(h(d))))};function Re(){var t=Object(l.a)(["\n\tpadding-top: 14px;\n\tcolor: ",";\n\tborder: none;\n\tfont-size: 18px;\n\ttext-align: center;\n\tdisplay: block;\n"]);return Re=function(){return t},t}function Ye(){var t=Object(l.a)(["\n  width: 90%;\n  padding: 0 5%;\n\tmargin-top: 25px;\n  position: static;\n\tcolor: ",";\n  display: block;\n  background-color: white;\n  border-radius: 8px;\n  box-sizing: border-box;\n  -webkit-box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.25);\n  -moz-box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.25);\n  box-shadow: 0px 0px 6px rgba(0, 0, 0, 0.25);\n  margin-left: 5%;\n\n\t@media (min-width: 560px) {\n\t\toverflow: auto;\n\t\tmargin-bottom: 25px; \n\t}\n\n"]);return Ye=function(){return t},t}var Le=s.b.div(Ye(),"#084486"),Ue=Object(s.b)(i.b)(Re(),"#FF009C");var Ve=function(t){var e=t.market,n=t.specificId;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Le,null,e?e.resoluted?a.a.createElement(Je,{market:e}):a.a.createElement(Ce,{specificId:n,market:e}):null),n&&a.a.createElement(Ue,{to:"/"}," all markets"))};function $e(){var t=Object(l.a)(["\n  width: 100%;\n  display: block;\n  margin: 0 auto;\n\tmargin-top: 80px;\n\tmargin-bottom: 30px;\n\n\t@media (min-width: 560px) {\n\t\tmargin-top: 115px;\n\t}\n"]);return $e=function(){return t},t}var We=s.b.div($e()),Ke=function(t){var e=t.markets,n=t.specificId;return a.a.createElement(We,{id:"markets-container"},null===e?a.a.createElement(St,null):e.map((function(t){return a.a.createElement(Ve,{market:t,specificId:n,key:t.id})})))};n(41);function He(){var t=Object(l.a)(["\n\n"]);return He=function(){return t},t}var Ge=s.b.div(He()),qe=function(t){var e=t.market,n=Object(r.useState)(!1),c=Object(g.a)(n,2),o=c[0],i=c[1],u=Object(r.useContext)(S),l=Object(g.a)(u,2),s=l[0].flux,d=(l[1],function(){var t=Object(b.a)(m.a.mark((function t(n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("resoluting..."),t.prev=1,i(!0),t.next=5,s.resolute(e.id,n);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),console.error(t.t0);case 10:return t.prev=10,i(!1),window.location.reload(),t.finish(10);case 14:case"end":return t.stop()}}),t,null,[[1,7,10,14]])})));return function(e){return t.apply(this,arguments)}}()),f=[];return f=2===e.outcomes?[a.a.createElement("button",{key:0,onClick:function(){return d(0)}},"resolute NO"),a.a.createElement("button",{key:1,onClick:function(){return d(1)}},"resolute YES")]:e.outcome_tags.map((function(t,e){return a.a.createElement("button",{key:e,onClick:function(){return d(e)}},"resolute ",t)})),a.a.createElement(a.a.Fragment,null,o&&a.a.createElement(It,null),a.a.createElement(Ge,null,a.a.createElement("p",null,e.id,". ",e.description),e.resoluted?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Resoluted: ",e.outcome_tags[e.winning_outcome]," ")):a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Resolutable: ",e.end_time<(new Date).getTime()?"true":"false"," "),f,a.a.createElement("button",{onClick:function(){return d(null)}},"Resolute invalid")),a.a.createElement("button",{onClick:function(){return ze(e.id)}}," Delete")))},Qe=n(236),Xe=n.n(Qe);function Ze(){var t=Object(l.a)(["\n\tpadding-top: 250px;\n\tposition: absolute;\n"]);return Ze=function(){return t},t}function tn(){var t=Object(l.a)(["\n\tpadding-top: 250px;\n\tbackground-color: white;\n"]);return tn=function(){return t},t}var en=s.b.div(tn()),nn=s.b.button(Ze()),rn={display:"flex",flexDirection:"column",padding:"2px"},an=function(t){var e=t.markets,n=void 0===e?[]:e,c=Object(r.useContext)(S),o=Object(g.a)(c,2),i=o[0].flux,u=(o[1],Object(r.useState)(!1)),l=Object(g.a)(u,2),s=l[0],d=l[1],f=Object(r.useState)("new market"),p=Object(g.a)(f,2),v=p[0],x=p[1],h=Object(r.useState)(),O=Object(g.a)(h,2),E=O[0],j=O[1],w=Object(r.useState)(""),k=Object(g.a)(w,2),y=k[0],C=k[1],F=Object(r.useState)(2),I=Object(g.a)(F,2),z=I[0],_=I[1],N=Object(r.useState)(new Date((new Date).setDate((new Date).getDate()+1))),D=Object(g.a)(N,2),M=D[0],A=D[1],B=Object(r.useState)(!1),P=Object(g.a)(B,2),T=P[0],J=P[1],R=Object(r.useState)([]),Y=Object(g.a)(R,2),L=Y[0],U=Y[1],V=[],$=Object(r.useState)(!1),W=Object(g.a)($,2),K=W[0],H=W[1],G=Object(r.useState)(!1),q=Object(g.a)(G,2),Q=q[0],X=q[1],Z=function(){var t=Object(b.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.walletConnection.isSignedIn()){t.next=2;break}return t.abrupt("return",!1);case 2:return t.abrupt("return",!0);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if(z>2)for(var tt=function(t){V.push(a.a.createElement("div",{key:t},a.a.createElement("label",{htmlFor:"outcome".concat(t)},"Outcome ".concat(t+1,": ")),a.a.createElement("input",{id:"outcome".concat(t),type:"text",value:L[t],onChange:function(e){return function(t,e){var n=L;n[e]=t,n[e]?U(n):alert("Input ".concat(e," is changed incorrectly!"))}(e.target.value,t)}})))},et=0;et<z;et++)tt(et);Object(r.useEffect)((function(){Z().then((function(t){return d(t)}))}),[]);var nt=function(){var t=Object(b.a)(m.a.mark((function t(e){var n,r,a,c,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(z<2)){t.next=3;break}return alert("Number of outcomes must be greater then 1"),t.abrupt("return");case 3:return console.log("creating market..."),H(!0),e.preventDefault(),n=E&&E.length>0?E.split(","):[],t.prev=7,t.next=10,i.account.connection.signer.signMessage("market_creation",i.getAccountId(),"default");case 10:return r=t.sent,t.next=13,i.createMarket(v,y,parseInt(z),L,["test"],M.getTime());case 13:return a=t.sent,c=parseInt(atob(a.status.SuccessValue)),t.next=17,Fe(c,v,i.getAccountId(),n,r);case 17:if(o=t.sent,!o.success){t.next=21;break}return t.abrupt("return");case 21:throw new Error("Market wasn't successfully added to server");case 24:t.prev=24,t.t0=t.catch(7),alert("Something went wrong. Look into the console!"),console.error(t.t0),console.log(L);case 29:case"end":return t.stop()}}),t,null,[[7,24]])})));return function(e){return t.apply(this,arguments)}}(),rt=n.map((function(t,e){return a.a.createElement(qe,{key:e,market:t})}));return s?a.a.createElement(a.a.Fragment,null,K&&a.a.createElement(It,null),a.a.createElement(nn,{onClick:function(t){return J(!T)}},T?"-":"+"),T&&a.a.createElement(en,null,a.a.createElement("label",null,"New market:"),a.a.createElement("form",{style:rn,onSubmit:function(t){return nt(t)}},a.a.createElement("label",{htmlFor:"desc"},"Name:"),a.a.createElement("input",{id:"desc",type:"text",value:v,onChange:function(t){return x(t.target.value)}}),a.a.createElement("label",{htmlFor:"categories"},"Categories:"),a.a.createElement("input",{id:"categories",type:"text",value:E,placeholder:"categories",onChange:function(t){return j(t.target.value)}}),a.a.createElement("label",{htmlFor:"extraInfo"},"Extra Info:"),a.a.createElement("input",{type:"text",value:y,placeholder:"extra info",onChange:function(t){return C(t.target.value)}}),a.a.createElement("label",{htmlFor:"outcomes"}," Number of outcomes:"),a.a.createElement("input",{id:"outcomes",type:"text",value:z,onChange:function(t){var e=t.target.value;_(e)}}),V,a.a.createElement("label",null,"end time:"),a.a.createElement(Xe.a,{value:M,onChange:A}),a.a.createElement("button",{type:"submit"},"Create Market")),a.a.createElement("button",{onClick:function(){X(!Q)}},Q?"Hide Markets":"Show Markets"," "),Q&&rt)):a.a.createElement("div",null)};function cn(){var t=Object(l.a)(["\n\tposition: fixed;\n\twidth: 100vw;\n\theight: 100vh;\n\ttop: 0;\n\tanimation: "," 500ms linear;\n\tleft: 0;\n\toverflow: hidden;\n\tbackground-color: rgba(0, 0, 0, 0.3);\n\tz-index: 101;\n"]);return cn=function(){return t},t}function on(){var t=Object(l.a)(["\n\tbackground-color: white;\n\tposition: fixed;\n\tbottom: 0;\n\twidth: 90%;\n\tz-index: 102;\n\tanimation: "," 500ms linear;\n\tpadding: 0 5%;\n\tpadding-bottom: 18px;\n"]);return on=function(){return t},t}function un(){var t=Object(l.a)(["\n\tfrom {\n\t\tbottom: -40vh;\n\t}\n\tto {\n\t\tbottom: 0;\n\t}\n"]);return un=function(){return t},t}function ln(){var t=Object(l.a)(["\n\tfrom {\n\t\topacity: 0;\n\t}\n\tto {\n\t\topacity: 1;\n\t}\n"]);return ln=function(){return t},t}var sn=Object(s.c)(ln()),dn=Object(s.c)(un()),fn=s.b.div(on(),dn),pn=s.b.div(cn(),sn);var mn=function(t){var e=t.className,n=t.children,c=t.blackground,o=t.onBlackgroundClick;return Object(r.useEffect)((function(){return document.body.style.overflow="hidden",function(){document.body.style.overflow="scroll"}}),[]),a.a.createElement(a.a.Fragment,null,c&&a.a.createElement(pn,{onClick:o}),a.a.createElement(fn,{className:e},n))};function bn(){var t=Object(l.a)(["\n\tposition: relative;\n"]);return bn=function(){return t},t}function gn(){var t=Object(l.a)(["\n\tfont-size: 18px;\n\tcolor: ",";\n\tfont-weight: bold;\n\tz-index: 5;\n\tposition: absolute;\n\tleft: 7px;\n\ttop: 7px;\n\n"]);return gn=function(){return t},t}function vn(){var t=Object(l.a)(["\n\tborder: 1px solid ",";\n\tborder-radius: 10px;\n\tcolor: ",";\n\tbox-shadow: none;\n\tfont-size: 18px;\n\tfont-weight: bold;\n\ttext-align: right;\n\tmax-width: 90px;\n\tpadding: 7px 7px;\n\tfont-weight: bold;\n\tz-index: 4;\n"]);return vn=function(){return t},t}var xn=s.b.input(vn(),"#084486","#084486"),hn=s.b.span(gn(),"#084486"),On=s.b.div(bn()),En=function(t){var e=t.value,n=t.changeValue,c=t.denomination,o=t.focus,i=a.a.createRef();return Object(r.useEffect)((function(){o&&i.focus()}),[]),a.a.createElement(On,null,a.a.createElement(hn,null,c),a.a.createElement(xn,{type:"number",value:e,ref:function(t){return i=t},onChange:function(t){return n(t.target.value)}}))};function jn(){var t=Object(l.a)(["\n\tfont-size: 12px;\n\ttext-decoration: underline;\n\tfont-weight: 400;\n"]);return jn=function(){return t},t}function wn(){var t=Object(l.a)(["\n\tmargin: 0 5px;\n\tfont-size: 18px;\n\tvertical-align: middle;\n\n"]);return wn=function(){return t},t}var kn=s.b.span(wn()),yn=s.b.span(jn());function Sn(t){var e=t.price,n=t.changePrice,c=Object(r.useState)(!0),o=Object(g.a)(c,2),i=o[0],u=o[1];return 100===e&&(e=50,n(50)),i&&100!==e?a.a.createElement("div",{onClick:function(){return u(!1)}},a.a.createElement(kn,null,e,"\xa2"),a.a.createElement(yn,null,"change")):a.a.createElement(En,{value:e,denomination:"\xa2",focus:!0,changeValue:n})}function Cn(){var t=Object(l.a)(["\n\tfont-weight: bold;\n"]);return Cn=function(){return t},t}function Fn(){var t=Object(l.a)(["\n\tmargin: 0;\n"]);return Fn=function(){return t},t}function In(){var t=Object(l.a)(["\n\twidth: 100%;\n\tfont-size: 18px;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding-bottom: 6px;\n\tpadding-top: 12px;\n\tborder-bottom: 1px solid ",";\n"]);return In=function(){return t},t}function zn(){var t=Object(l.a)(["\n\tcolor: ",";\n\tfont-size: 18px;\n\tfont-weight: lighter;\n\ttext-decoration: underline;\n\ttext-align: right;\n"]);return zn=function(){return t},t}var _n=s.b.p(zn(),"#FF009C"),Nn=s.b.div(In(),"#084486"),Dn=s.b.p(Fn()),Mn=s.b.span(Cn()),An=function(t){var e,n=t.market,c=t.signedIn,o=t.outcome,i=t.closeModal,u=t.marketPrice,l=t.placeOrder,s=Object(r.useState)(u),d=Object(g.a)(s,2),f=d[0],p=d[1],m=Object(r.useState)(1),b=Object(g.a)(m,2),v=b[0],x=b[1];n&&(e=!!n.outcome_tags[o]?n.outcome_tags[o]:0===o?"NO":"YES");return a.a.createElement(a.a.Fragment,null,a.a.createElement(_n,{onClick:i},"cancel"),a.a.createElement(Nn,null,a.a.createElement(Dn,null,"contract:"),a.a.createElement(Mn,null,e)),a.a.createElement(Nn,null,a.a.createElement(Dn,null,"price per contract:"),a.a.createElement(Mn,null,a.a.createElement(Sn,{changePrice:p,price:f}))),a.a.createElement(Nn,null,a.a.createElement(Dn,null,"total cost:"),a.a.createElement(En,{value:v,denomination:"$",changeValue:x})),a.a.createElement(wt,{onClick:function(){return c&&l(f,v)},color:c?"#084486":"grey"},c?"BUY CONTRACT":"PLEASE SIGN IN"))},Bn=n(237),Pn=n.n(Bn),Tn=n(238),Jn=n.n(Tn);function Rn(){var t=Object(l.a)(["\n\ttext-decoration: underline;\n\tfont-size: 14px;\n\tcursor: pointer;\n"]);return Rn=function(){return t},t}function Yn(){var t=Object(l.a)(["\n\tfont-weight: bold;\n"]);return Yn=function(){return t},t}function Ln(){var t=Object(l.a)(["\n\tfont-size: 24px;\n\tfont-weight: bold;\n\ttext-align: center;\n\tpadding-top: 45px;\n\tpadding-bottom: 10px;\n\tcolor: ",";\n"]);return Ln=function(){return t},t}function Un(){var t=Object(l.a)(["\n\tfont-size: 19px;\n\tfont-weight: lighter;\n\ttext-align: center;\n\tpadding: 10px 0;\n\tmargin: 0;\n\tcolor: ",";\n"]);return Un=function(){return t},t}function Vn(){var t=Object(l.a)(["\n\theight: 75px;\n\twidth: 75px;\n\tdisplay: block;\n\tpadding-top: 15px;\n\tmargin: auto;\n"]);return Vn=function(){return t},t}function $n(){var t=Object(l.a)(["\n\n"]);return $n=function(){return t},t}var Wn=s.b.div($n()),Kn=s.b.img(Vn()),Hn=s.b.p(Un(),"#084486"),Gn=s.b.div(Ln(),"#084486"),qn=s.b.span(Yn()),Qn=Object(s.b)(Hn)(Rn());function Xn(t){var e=t.amountOfShares,n=t.res,r=t.closeModal;return a.a.createElement(Wn,null,a.a.createElement(Gn,null,n.error?"Something went wrong":"Success"),a.a.createElement(Kn,{src:n.error?Pn.a:Jn.a,alt:"logo reflecting if the order faield or was successful"}),a.a.createElement(Hn,null,n.error?"couldn't place order for":"order placed for"," ",a.a.createElement(qn,null,e.toFixed(2)," shares")),!n.error&&a.a.createElement(Qn,{onClick:function(){return window.open("https://explorer.nearprotocol.com/transactions/".concat(n.tx))}},"view tx"),a.a.createElement(wt,{onClick:r,color:n.error?"#FF009C":"#084486"},n.error?"Close":"Done"))}function Zn(){var t=Object(l.a)(["\n\tfont-weight: bold;\n"]);return Zn=function(){return t},t}function tr(){var t=Object(l.a)(["\n\tfont-size: 19px;\n\tfont-weight: lighter;\n\ttext-align: center;\n\tpadding: 10px 0;\n\tmargin: 0;\n\tpadding-bottom: 45px;\n\tcolor: ",";\n"]);return tr=function(){return t},t}function er(){var t=Object(l.a)(["\n\theight: 125px;\n\twidth: 125px;\n\tdisplay: block;\n\tpadding-top: 15px;\n\tmargin: auto;\n\tanimation: wiggle 1.5s linear infinite;\n\n\t@keyframes wiggle {\n    0% { transform: rotate(0deg); }\n   \t50% { transform: rotate(0deg); }\n   \t70% { transform: rotate(30deg); }\n   \t90% { transform: rotate(-30deg); }\n  \t100% { transform: rotate(0deg); }\n\t}\n\n\n"]);return er=function(){return t},t}function nr(){var t=Object(l.a)(["\n\tfont-size: 24px;\n\tfont-weight: bold;\n\ttext-align: center;\n\tpadding-top: 45px;\n\tpadding-bottom: 10px;\n\tcolor: ",";\n\t\n"]);return nr=function(){return t},t}function rr(){var t=Object(l.a)(["\n\n"]);return rr=function(){return t},t}var ar=s.b.div(rr()),cr=s.b.div(nr(),"#084486"),or=s.b.img(er()),ir=s.b.p(tr(),"#084486"),ur=s.b.span(Zn());function lr(t){var e=t.amountOfShares;return a.a.createElement(ar,null,a.a.createElement(cr,null,"Processing"),a.a.createElement(or,{src:x.a}),a.a.createElement(ir,null,"placing order for ",a.a.createElement(ur,null,e.toFixed(2)," shares")))}var sr=function(){var t=Object(r.useContext)(st),e=Object(g.a)(t,2),n=e[0],c=e[1],o=Object(r.useContext)(S),i=Object(g.a)(o,2),u=i[0].flux,l=i[1],s=Object(r.useState)(!1),d=Object(g.a)(s,2),f=d[0],p=d[1],v=Object(r.useState)(null),x=Object(g.a)(v,2),h=x[0],O=x[1],E=Object(r.useState)(0),j=Object(g.a)(E,2),w=j[0],k=j[1],y=n.market,C=u.isSignedIn(),F=function(){O(null),c({type:"stopOrderPlacement"}),window.location.reload()},I=function(){var t=Object(b.a)(m.a.mark((function t(e,r){var a,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(r/e*100),p(!0),t.prev=3,t.next=6,u.placeOrder(y.id,n.outcome,(o=r,parseInt((o*Math.pow(10,17)).toFixed(2))),parseInt(e)).catch((function(t){return console.error(t)}));case 6:return a=t.sent,t.next=9,u.getFDaiBalance().catch((function(t){return console.error(t)}));case 9:c=t.sent,l({type:"balanceUpdate",payload:{balance:c}}),O({error:!1,tx:a.transaction.hash}),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),console.error(t.t0),O({error:!0});case 18:p(!1);case 19:case"end":return t.stop()}var o}),t,null,[[3,14]])})));return function(e,n){return t.apply(this,arguments)}}();return y&&a.a.createElement(mn,{blackground:!0,onBlackgroundClick:F},f||null===h?f?a.a.createElement(lr,{amountOfShares:w}):a.a.createElement(An,{closeModal:F,signedIn:C,market:y,placeOrder:I,marketPrice:n.price,outcome:n.outcome}):a.a.createElement(Xn,{closeModal:F,res:h,amountOfShares:w}))};var dr=function(t){var e=Object.assign({},t),n=Object(r.useContext)(S),c=Object(g.a)(n,2),o=c[0].flux,i=c[1],u=Object(r.useState)([]),l=Object(g.a)(u,2),s=l[0],d=l[1],f=e.match.params.marketId;return Object(r.useEffect)((function(){y().then(function(){var t=Object(b.a)(m.a.mark((function t(e){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i({type:"connected",payload:{flux:e}}),n=[],!f){t.next=6;break}n=[parseInt(f)],t.next=10;break;case 6:return t.next=8,Ie([]);case 8:r=t.sent,n=r.markets.length>0?r.markets.map((function(t){return parseInt(t.marketId)})):[];case 10:e.getMarketsById(n).then((function(t){d(e.formatMarkets(t))}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[f]),o?a.a.createElement(a.a.Fragment,null,a.a.createElement(an,{markets:s}),a.a.createElement(T,null),a.a.createElement(dt,null,a.a.createElement(Ke,{specificId:f,markets:s}),a.a.createElement(sr,null))):a.a.createElement(It,{txLoading:!0})},fr=n(239),pr=(n(152),new fr.Wampy("wss://near-explorer-wamp.onrender.com/ws",{realm:"near-explorer"}));function mr(t,e){return br.apply(this,arguments)}function br(){return(br=Object(b.a)(m.a.mark((function t(e,n){var r,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://rpc.nearprotocol.com",{method:"POST",headers:{"Content-type":"application/json; charset=utf-8"},body:JSON.stringify({method:"tx",params:[e,n],id:"dontcare",jsonrpc:"2.0"})});case 2:return r=t.sent,t.next=5,r.json();case 5:return a=t.sent,t.abrupt("return",Object(O.a)({returned:void 0!==a.result.status.SuccessValue&&atob(a.result.status.SuccessValue)},JSON.parse(atob(a.result.transaction.actions[0].FunctionCall.args))));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function gr(t,e){return vr.apply(this,arguments)}function vr(){return(vr=Object(b.a)(m.a.mark((function t(e,n){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){return pr.call("".concat("com.nearprotocol.testnet.explorer",".").concat(e),n,{onSuccess:function(e){t(e[0])},onError:function(t){r(t)}})})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function xr(){return hr.apply(this,arguments)}function hr(){return(hr=Object(b.a)(m.a.mark((function t(){var e,n,r,a,c,o,i,u,l,s,d,f,p=arguments;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=p.length>0&&void 0!==p[0]?p[0]:"",t.next=3,gr("select",["\n                SELECT \n                    transactions.hash,\n                    transactions.signer_id as signerId,\n                    blocks.timestamp as timestamp,\n                    actions.action_type as type,\n                    actions.action_args as action_args\n                FROM\n                    transactions\n                LEFT JOIN blocks ON blocks.hash = transactions.block_hash\n                LEFT JOIN actions ON actions.transaction_hash = transactions.hash\n                WHERE\n                    receiver_id = :accountId\n                ORDER BY blocks.height ASC\n            ",{accountId:e}]);case 3:return n=t.sent,r=n.filter((function(t){return"FunctionCall"===t.type&&"place_order"===JSON.parse(t.action_args).method_name})),a=r.map((function(t){return mr(t.hash,t.signerId)})),t.next=8,Promise.all(a);case 8:return c=t.sent,o=r.map((function(t,e){return Object(O.a)({args:c[e]},t)})),i=o.filter((function(t){return""===t.args.returned})),u=n.filter((function(t){return"FunctionCall"===t.type&&"create_market"===JSON.parse(t.action_args).method_name})),l=u.map((function(t){return mr(t.hash,t.signerId)})),t.next=15,Promise.all(l);case 15:return s=t.sent,d=u.map((function(t,e){return Object(O.a)({args:s[e]},t)})),f=d.filter((function(t){return t.args.returned})),t.abrupt("return",{ordersPlaced:i,marketsCreated:f});case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Or=function(t){var e=function(t){var e={};return t.ordersPlaced.forEach((function(t){var n=t.args.market_id;e[n]||(e[n]={}),e[n].data||(e[n].data=[]),e[n].data.push(Object(O.a)({},t.args,{timestamp:t.timestamp}))})),t.marketsCreated.forEach((function(t){var n=t.args.returned,r=t.args.description;e[n]&&(e[n].description=r)})),e}(t),n={};return Object.keys(e).forEach((function(t){var r=e[t],a=e[t].data,c=[];n[t]={description:r.description,data:[]},a.forEach((function(t){var e=new Date(t.timestamp),n=e.getDate()+"/"+(parseInt(e.getMonth())+1)+"/"+e.getFullYear();c[n]||(c[n]=[]),c[n][t.outcome]||(c[n][t.outcome]=[]),c[n][t.outcome].push(t.price_per_share)})),Object.keys(c).forEach((function(e){var r=c[e],a={date:e};r.forEach((function(t,e){var n=(t.reduce((function(t,e){return t+e}))/t.length).toFixed(2);a[e]=n})),n[t].data.push(a)}))})),n};n(404);var Er=n(61);function jr(){var t=Object(l.a)(["\n"]);return jr=function(){return t},t}function wr(){var t=Object(l.a)(["\n\tpadding: 0 5%;\n"]);return wr=function(){return t},t}var kr=s.b.div(wr()),yr=s.b.h1(jr());var Sr=function(){var t=Object(r.useContext)(S),e=Object(g.a)(t,2),n=(e[0],e[1],Object(r.useState)([])),c=Object(g.a)(n,2),o=c[0],i=c[1],u=Object(r.useState)("fetching"),l=Object(g.a)(u,2),s=l[0],d=l[1],f=function(){var t=Object(b.a)(m.a.mark((function t(){var e;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,xr("flux-protocol-dev");case 2:return e=t.sent,t.abrupt("return",JSON.stringify(e));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){f().then((function(t){d("formatting");var e=Or(JSON.parse(t));p(e).then((function(t){var n=Object.keys(t).map((function(t,n){var r=e[t],c=[],o=["red","blue","purple"];return r.data.forEach((function(t){for(var e=Object.keys(t),n=0;n<e.length-1;n++){var r=e[n];c[r]||(c[r]=a.a.createElement(Er.a,{type:"monotone",dataKey:r,key:n,stroke:o[n]}))}})),"new market"!==r.description?a.a.createElement(kr,{key:n},a.a.createElement(yr,null,r.description),a.a.createElement(Er.b,{width:400,height:400,data:r.data},c,a.a.createElement(Er.c,{formatter:function(t,e){return function(t,e,n){return[t,e=n.length>0?n[e]:"0"===e?"NO":"YES"]}(t,e,r.outcomeTags)}}),a.a.createElement(Er.d,{dataKey:"date"}),a.a.createElement(Er.e,null))):null}));i(n),d(null)}))}))}),[]);var p=function(){var t=Object(b.a)(m.a.mark((function t(e){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y();case 2:return n=t.sent,t.next=5,n.getAllMarkets();case 5:return r=t.sent,Object.keys(e).forEach((function(t){var n=r[t];e[t].outcomeTags=n.outcome_tags})),t.abrupt("return",e);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return"fetching"===s?a.a.createElement("div",null," fetching latest order data from NEAR explorer... "):"formatting"===s?a.a.createElement("div",null," formatting data... "):a.a.createElement("div",null,o)};o.a.render(a.a.createElement(a.a.Fragment,null,a.a.createElement(f,null),a.a.createElement(C,null,a.a.createElement(i.a,{basename:"/ArterraFluxDemo"},a.a.createElement(u.a,{exact:!0,path:"/",component:dr}),a.a.createElement(u.a,{exact:!0,path:"/dashboard",component:Sr}),a.a.createElement(u.a,{path:"/market/:marketId?",component:dr})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},97:function(t,e,n){t.exports=n.p+"static/media/logo.ef2536e4.png"}},[[279,1,2]]]);
//# sourceMappingURL=main.e7013648.chunk.js.map